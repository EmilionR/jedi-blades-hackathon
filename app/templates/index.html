{% extends 'base.html' %}
{% load static %} 
{% block content %}
<link rel="stylesheet" href="{% static 'css/index.css' %}">

<!-- Content Block -->
<section class="outer-hero-section">
    <div class="jedi-hero-section">
        <div class="jedi-hero-text">
            <!-- Content for scrolling effect -->
            <div>
                <h1>Welcome to Jedi Blades</h1>
                <p>Jedi Blades is a store that sells lightsabers. We have a wide selection of lightsabers for you to choose from. Whether you are a Jedi or a Sith, we have the perfect lightsaber for you.</p>
                <p>Our lightsabers are made from the finest materials and are built to last. They are perfect for dueling or for display. We also have lightsaber accessories such as stands and cases to help you take care of your lightsaber.</p>
                <p>So come on in and take a look at our selection. May the Force be with you!</p>
            </div>
        </div>
        <div class="jedi-hero-overlay"></div>
    </div>
</section>

<section class="container mt-5">
    <!-- Toggle for Light, Both, and Dark Side -->
    <div class="btn-group" role="group" aria-label="Side Toggle">
        <button type="button" class="btn btn-light" id="lightSide">Light</button>
        <button type="button" class="btn btn-secondary" id="bothSides">Both</button>
        <button type="button" class="btn btn-dark" id="darkSide">Dark</button>
    </div>

    <div class="row justify-content-center mt-3">
        {% for lightsaber in lightsabers %}
        <!-- Make sure to convert 'L' to 'light' and 'D' to 'dark' for class name compatibility -->
        <div class="col-10 col-md-5 col-lg-4 mb-4 jedi-card-custom {% if lightsaber.owner.alignment == 'L' %}light{% elif lightsaber.owner.alignment == 'D' %}dark{% endif %}">
            <article class="card">
                <div class="card-body">
                    <h5 class="card-title">{{ lightsaber.name }}</h5>
                    <p class="card-text">{{ lightsaber.description }}</p>
                    <p class="card-text">Color: {{ lightsaber.color }}</p>
                    <p class="card-text">Owner: {{ lightsaber.owner }}</p>
                    <a href="{% url 'lightsaber-detail' pk=lightsaber.id %}" class="btn btn-primary">
                        View Details
                    </a>
                    <!-- Trigger for Character Modal -->
                    <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#characterModal{{ lightsaber.id }}">
                        {{ lightsaber.owner  }}
                    </button>
                </div>
            </article>
            <div class="modal fade" id="characterModal{{ lightsaber.id }}" tabindex="-1" aria-labelledby="characterModalLabel{{ lightsaber.id }}" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="characterModalLabel{{ lightsaber.id }}">{{ lightsaber.owner.name }}</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <p>Full Name: {{ lightsaber.owner.full_name }}</p>
                            <p>Alignment: {{ lightsaber.owner.get_alignment_display }}</p>
                            <p>Home Planet: {{ lightsaber.owner.home_planet }}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<script>
document.getElementById('lightSide').addEventListener('click', function() {
    filterSide('light');
});
document.getElementById('bothSides').addEventListener('click', function() {
    filterSide('both');
});
document.getElementById('darkSide').addEventListener('click', function() {
    filterSide('dark');
});

function filterSide(side) {
    const cards = document.querySelectorAll('.jedi-card-custom');
    cards.forEach(card => {
        if (side === 'both') {
            card.style.display = '';
        } else {
            card.style.display = card.classList.contains(side) ? '' : 'none';
        }
    });
}
</script>






{% endblock %}


